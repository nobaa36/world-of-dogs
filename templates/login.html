<!DOCTYPE html>
<html style="height:100%">
<head>
    <meta charset="UTF-8">    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="{{url_for('static', filename='tab_icon.png')}}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"> 
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='styles.css')}}">
    <title>World of Dogs</title>
</head>
<body style="height:100%">
    <div class="container-fluid h-5 text-right">              
        <!-- display username (send by app) and change button label if user logged in-->                                      
        <label id='logInLabel'>{{session["username"]}}</label>                                      
        <a href="{{url_for('login')}}">
            <button type="button" class="btn btn-outline-primary m-2">
                    {% if 'username' in session %}                                                     
                    Log out
                    {% else %}
                    Log in / Sign Up
                    {% endif %}
            </button>
        </a>
    </div>                                                                                          
    <header class="row align-items-center no-gutters">                                              
        <div class="col-sm-6  text-center text-sm-right"  ><a href="{{url_for('index')}}"><h1>World of Dogs</h1></a></div>
        <div class="col-sm-6 " ><img class="img-fluid" src="{{url_for('static', filename='header.jpg')}}" ></div>
    </header>                                                                                           
    <nav id="nav" class="container-fluid row no-gutters">                                               
        <div class="col-sm-6 d-flex justify-content-start">
            <a href="{{url_for('index')}}"><button type="button" class="bg-white btn btn-outline-primary my-2 m-sm-2">Home</button></a>
            <a href="{{url_for('contact')}}"><button type="button" class="bg-white btn btn-outline-primary m-2">Contact</button></a>
        </div>
        <div class="col-sm-6 d-flex justify-content-center justify-content-sm-end">
            <div class='my-2' id='inputWrapper'>
                <input id='searchInput' class="form-control " type="text">
                <div id='searchHints' onClick="closeHints()" class="list-group text-capitalize"></div>          
            </div>
            <button class="btn btn-info my-2" onClick='searchButton()'>Search</button>
        </div>
    </nav>                                                                                              
    {% if log_in_message!="" %}
    <div class="alert alert-info w-50 text-center container">
         <!-- place for messages from app -->
         {{log_in_message}}                                                                            
    </div>
    {% endif %}
    <main class='container  h-25'>              
        <!-- sign up and log in forms -->                                                        
        <div class='row no-gutters container '>
            <div class='col-md-6 py-5 p-md-5'>
            <form class='form-inline border border-danger p-3 bg-light' action="{{url_for('login')}}" method="post">
                <legend class='text-center '>Register</legend>
                <input class='form-control w-50 m-1' type="email"  name="email" required>   E-mail 
                <input class='form-control w-50 m-1' type="password" id='userPassword' onkeyup="passwordMatch()" name="userPassword" minlength="8" maxlength="15" required > Password 
                <input class='form-control w-50 m-1' type="password" id='userPasswordRepeat' onkeyup="passwordMatch()" name="userPasswordRepeat" minlength="8" maxlength="15" required>Repeat password
                <button class="btn btn-success m-1 w-100" id='submitSignUpForm' type="submit">Register</button> 
            </form>
            </div>
            <div class='col-md-6 py-5 p-md-5'>
                <form class='form-inline border border-danger p-3 bg-light' action="{{url_for('login')}}"  method="post">
                    <legend class='text-center '>Log In</legend>
                    <input class='form-control w-50 m-1' type="email" name="emailLogIn" required> E-mail
                    <input class='form-control w-50 m-1' type="password"  name="userPasswordLogIn" required>Password 
                    <button class="btn btn-success m-1 w-100" type="submit">Log in</button>
                </form>
            </div>
        </div>    
    </main>
<!-- passwords check -->                                                                                              
<script>
function passwordMatch() {                                                                      
    var userPassword=$("#userPassword");                                                        
    var userPasswordRepeat=$('#userPasswordRepeat');
    //if passwords match set border to green  and enable submit button
    if (userPassword.val().length>7 && (userPassword.val()===userPasswordRepeat.val())) {              
        userPassword.css("border","1px solid green");                                          
        userPasswordRepeat.css("border","1px solid green");
        $('#submitSignUpForm').prop('disabled',false);
    //when doesn't match keep borders green and submit button disabled
    } else {                                                                                    
        userPassword.css("border","1px solid red");
        userPasswordRepeat.css("border","1px solid red");
        $('#submitSignUpForm').prop('disabled',true);
    }
}
</script>
<script src="{{url_for('static', filename='script.js')}}"></script>
</body>
</html>